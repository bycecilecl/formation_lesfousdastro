<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Fous d'Astro - Formation en Astrologie</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const firebaseConfig = {
            apiKey: "AIzaSyA5-nGI0arelA_RTFEEOar34C0kxBLXfyI",
            authDomain: "formation-665c2.firebaseapp.com",
            projectId: "formation-665c2",
            storageBucket: "formation-665c2.firebasestorage.app",
            messagingSenderId: "671101088931",
            appId: "1:671101088931:web:08bf508bb67434ac567b16"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();

        const Book = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        const Video = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
        );

        const FileText = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
        );

        const DocumentText = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
        );

        const Download = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
        );

        const CheckCircle = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const Circle = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" strokeWidth={2} />
            </svg>
        );

        const Menu = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        );

        const X = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
        );

        const Home = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
        );

        const Award = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
            </svg>
        );

        const User = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
        );

        const LogOut = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
        );

        const LoginPage = React.memo(({ onLogin, onSignup, loginError }) => {
            const [localEmail, setLocalEmail] = useState('');
            const [localPassword, setLocalPassword] = useState('');
            const [isLogin, setIsLogin] = useState(true);

            const handleSubmit = (e) => {
                e.preventDefault();
                if (isLogin) {
                    onLogin(localEmail, localPassword);
                } else {
                    onSignup(localEmail, localPassword);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center" style={{ background: 'linear-gradient(135deg, #1f628e 0%, #00a8a8 100%)' }}>
                    <div className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
                        <div className="text-center mb-8">
                            <div className="w-20 h-20 mx-auto bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-4xl mb-4">
                                ‚≠ê
                            </div>
                            <h1 className="text-3xl font-bold" style={{ color: '#1f628e' }}>Les Fous d'Astro</h1>
                            <p className="text-gray-600 mt-2">Connexion √† votre espace formation</p>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-semibold mb-2" style={{ color: '#1f628e' }}>Email</label>
                                <input
                                    type="email"
                                    value={localEmail}
                                    onChange={(e) => setLocalEmail(e.target.value)}
                                    className="w-full px-4 py-3 rounded-lg border-2 focus:outline-none"
                                    style={{ borderColor: '#c0f0f7' }}
                                    placeholder="votre@email.com"
                                    required
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-semibold mb-2" style={{ color: '#1f628e' }}>Mot de passe</label>
                                <input
                                    type="password"
                                    value={localPassword}
                                    onChange={(e) => setLocalPassword(e.target.value)}
                                    className="w-full px-4 py-3 rounded-lg border-2 focus:outline-none"
                                    style={{ borderColor: '#c0f0f7' }}
                                    placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                    required
                                />
                            </div>

                            {loginError && (
                                <div className="bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                                    {loginError}
                                </div>
                            )}

                            <button
                                type="submit"
                                className="w-full py-3 rounded-lg text-white font-semibold shadow-lg hover:shadow-xl transition-all"
                                style={{ backgroundColor: '#1f628e' }}
                            >
                                {isLogin ? 'Se connecter' : 'Cr√©er un compte'}
                            </button>
                        </form>

                        <div className="mt-6 text-center">
                            <button
                                type="button"
                                onClick={() => setIsLogin(!isLogin)}
                                className="text-sm hover:underline"
                                style={{ color: '#00a8a8' }}
                            >
                                {isLogin ? "Pas encore de compte ? Cr√©er un compte" : "D√©j√† un compte ? Se connecter"}
                            </button>
                        </div>

                        <div className="mt-8 p-4 rounded-lg text-sm" style={{ backgroundColor: '#c0f0f7' }}>
                            <p className="font-semibold mb-2" style={{ color: '#1f628e' }}>üìß Note importante :</p>
                            <p className="text-gray-700">
                                Contactez votre formateur pour obtenir vos identifiants d'acc√®s √† la formation.
                            </p>
                        </div>
                    </div>
                </div>
            );
        });

        const App = () => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentPage, setCurrentPage] = useState('home');
            const [currentModule, setCurrentModule] = useState(null);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const [completedLessons, setCompletedLessons] = useState(new Set());
            const [loginError, setLoginError] = useState('');

            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((user) => {
                    setUser(user);
                    setLoading(false);
                });
                return unsubscribe;
            }, []);

            const handleLogin = async (email, password) => {
                setLoginError('');
                try {
                    await auth.signInWithEmailAndPassword(email, password);
                } catch (error) {
                    setLoginError('Email ou mot de passe incorrect');
                }
            };

            const handleSignup = async (email, password) => {
                setLoginError('');
                try {
                    await auth.createUserWithEmailAndPassword(email, password);
                } catch (error) {
                    if (error.code === 'auth/email-already-in-use') {
                        setLoginError('Cet email est d√©j√† utilis√©');
                    } else if (error.code === 'auth/weak-password') {
                        setLoginError('Le mot de passe doit contenir au moins 6 caract√®res');
                    } else {
                        setLoginError('Erreur lors de la cr√©ation du compte');
                    }
                }
            };

            const handleLogout = async () => {
                await auth.signOut();
                setCurrentPage('home');
                setCurrentModule(null);
            };

            const downloadAllFiles = (files, moduleName) => {
                files.forEach((file, index) => {
                    setTimeout(() => {
                        const link = document.createElement('a');
                        link.href = file.url;
                        link.download = file.name;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                    }, index * 300);
                });
            };

            const modules = [
                {
                    id: 1,
                    title: "L'Introduction",
                    description: "√âl√©ments, modes, polarit√©s, niveaux de conscience",
                    icon: <Book className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '1-0', 
                            title: 'Bienvenue dans la formation', 
                            type: 'text', 
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Bienvenue aux Fous d'Astro ! üåü</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    Vous √™tes sur le point de d√©couvrir l'astrologie d'une mani√®re totalement unique et ludique. 
                                    Dans cette formation, nous allons explorer ensemble les myst√®res des astres √† travers des personnages 
                                    attachants et des histoires captivantes.
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Ce que vous allez apprendre :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li>Les bases de l'astrologie</li>
                                    <li>Les plan√®tes comme des personnages</li>
                                    <li>Les signes et leurs ambiances</li>
                                    <li>Les maisons astrologiques</li>
                                    <li>L'interpr√©tation d'un th√®me astral</li>
                                </ul>
                                <p style="margin-top: 1.5rem; padding: 1rem; background-color: #c0f0f7; border-radius: 0.5rem;">
                                    <strong>Conseil :</strong> Prenez votre temps et n'h√©sitez pas √† revoir les le√ßons autant de fois que n√©cessaire !
                                </p>
                            `
                        },
                        { id: '1-1', title: 'Introduction √† la formation', type: 'video', url: 't5bedT7UW4w' },
                        { 
                            id: '1-2', 
                            title: 'Documents d\'introduction', 
                            type: 'pdf',
                            files: [
                                { name: 'Introduction √† la formation', url: 'documents/introduction_formation.pdf' }
                            ]
                        }
                    ]
                },
                {
                    id: 2,
                    title: "Les Plan√®tes - Personnages",
                    description: "D√©couvrez les plan√®tes comme des personnages",
                    icon: <Award className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '2-0', 
                            title: 'Introduction : Les Plan√®tes comme Personnages', 
                            type: 'text',
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Les Plan√®tes : Des Personnages Cosmiques ü™ê</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    En astrologie, chaque plan√®te repr√©sente un aspect de votre personnalit√©. 
                                    Imaginez-les comme des personnages d'une BD, chacun avec son r√¥le, sa personnalit√© et ses motivations !
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les plan√®tes personnelles :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Le Soleil ‚òÄÔ∏è</strong> : Votre essence profonde, qui vous √™tes vraiment</li>
                                    <li><strong>La Lune üåô</strong> : Vos √©motions, vos besoins int√©rieurs</li>
                                    <li><strong>Mercure üí¨</strong> : Votre fa√ßon de penser et communiquer</li>
                                    <li><strong>V√©nus üíñ</strong> : Ce que vous aimez, vos valeurs</li>
                                    <li><strong>Mars ‚öîÔ∏è</strong> : Votre √©nergie d'action, votre courage</li>
                                </ul>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les plan√®tes sociales et transpersonnelles :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Jupiter üéØ</strong> : L'expansion, la chance, la sagesse</li>
                                    <li><strong>Saturne ‚è≥</strong> : Les structures, la discipline, la maturit√©</li>
                                    <li><strong>Uranus ‚ö°</strong> : L'innovation, la libert√©, les changements</li>
                                    <li><strong>Neptune üåä</strong> : L'intuition, les r√™ves, la spiritualit√©</li>
                                    <li><strong>Pluton üî•</strong> : La transformation profonde, le pouvoir</li>
                                </ul>
                            `
                        },
                        { id: '2-1', title: 'Intro personnages - Lune & Soleil', type: 'video', url: 'GAXCiWKMLbI' },
                        { id: '2-2', title: 'Mercure, V√©nus & Mars', type: 'video', url: 'im4-KuV6J4A' },
                        { id: '2-3', title: 'Jupiter & Saturne', type: 'video', url: 'efQU2muqh5s' },
                        { id: '2-4', title: 'Uranus, Neptune & Pluton', type: 'video', url: 'J1ISvVFV9_o' },
                        { id: '2-5', title: 'Les dignit√©s plan√©taires', type: 'video', url: 'GnQp_womcjg' },
                        { 
                            id: '2-6', 
                            title: 'Documents - Les Plan√®tes', 
                            type: 'pdf',
                            files: [
                                { name: 'Les plan√®tes personnages', url: 'documents/planetes_personnages.pdf' },
                                { name: 'Dignit√©s plan√©taires', url: 'documents/dignites_planetaires.pdf' }
                            ]
                        }
                    ]
                },
                {
                    id: 3,
                    title: "Les Signes - Les Ambiances",
                    description: "L'atmosph√®re unique de chaque signe",
                    icon: <Book className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '3-0', 
                            title: 'Introduction : Les 12 Ambiances du Zodiaque', 
                            type: 'text',
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Les Signes : 12 Ambiances Uniques ‚ú®</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    Si les plan√®tes sont les personnages, les signes sont les costumes qu'ils portent ! 
                                    Chaque signe apporte une ambiance, une couleur, une √©nergie particuli√®re.
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les signes de Feu üî• :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>B√©lier</strong> : Le pionnier courageux</li>
                                    <li><strong>Lion</strong> : Le roi rayonnant</li>
                                    <li><strong>Sagittaire</strong> : L'aventurier philosophe</li>
                                </ul>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les signes de Terre üåç :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Taureau</strong> : Le b√¢tisseur patient</li>
                                    <li><strong>Vierge</strong> : L'organisateur pr√©cis</li>
                                    <li><strong>Capricorne</strong> : L'ambitieux strat√®ge</li>
                                </ul>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les signes d'Air üí® :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>G√©meaux</strong> : Le curieux communicant</li>
                                    <li><strong>Balance</strong> : Le diplomate harmonieux</li>
                                    <li><strong>Verseau</strong> : L'innovateur visionnaire</li>
                                </ul>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les signes d'Eau üíß :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Cancer</strong> : Le protecteur √©motif</li>
                                    <li><strong>Scorpion</strong> : Le transformateur intense</li>
                                    <li><strong>Poissons</strong> : Le r√™veur empathique</li>
                                </ul>
                            `
                        },
                        { id: '3-1', title: '√âl√©ments, Polarit√©s et Niveaux de Conscience', type: 'video', url: 'HjC5ZRv2d8Y' },
                        { id: '3-2', title: 'Du B√©lier √† la Vierge', type: 'video', url: 'TNWS8AzG0OU' },
                        { id: '3-3', title: 'De la Balance aux Poissons', type: 'video', url: 'gNsPWG8voL4' },
                        { 
                            id: '3-4', 
                            title: 'Documents - Les Signes', 
                            type: 'pdf',
                            files: [
                                { name: 'M√©mo signes, √©l√©ments, modes & dignit√©s', url: 'documents/memo_signes_elements_modes_dignites.pdf' },
                                { name: 'Ambiances des signes', url: 'documents/ambiances_signes.pdf' },
                                { name: 'Progression des signes', url: 'documents/progression_signes_astro.pdf' }
                            ]
                        }
                    ]
                },
                {
                    id: 4,
                    title: "Quartiers et Maisons",
                    description: "Les 12 secteurs de vie et la vue d'ensemble",
                    icon: <Home className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '4-0', 
                            title: 'Introduction : Les Secteurs de Vie', 
                            type: 'text',
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Les Quartiers et Maisons üè†</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    Les 12 maisons repr√©sentent les 12 domaines de votre vie. Les quartiers vous donnent la vision globale.
                                    C'est comme une carte de votre existence, o√π chaque maison correspond √† un secteur particulier.
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les 4 Quartiers :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Quartier 1 (Maisons I-II-III)</strong> : D√©veloppement personnel</li>
                                    <li><strong>Quartier 2 (Maisons IV-V-VI)</strong> : Expression cr√©ative</li>
                                    <li><strong>Quartier 3 (Maisons VII-VIII-IX)</strong> : Relations avec les autres</li>
                                    <li><strong>Quartier 4 (Maisons X-XI-XII)</strong> : Contribution au monde</li>
                                </ul>
                                <p style="margin-top: 1.5rem; padding: 1rem; background-color: #c0f0f7; border-radius: 0.5rem;">
                                    <strong>üí° Astuce :</strong> Observez o√π se trouvent vos plan√®tes pour comprendre votre orientation naturelle !
                                </p>
                            `
                        },
                        { id: '4-1', title: 'Les quartiers', type: 'video', url: 'JoafnZA0Dhc' },
                        { id: '4-2', title: 'Intro et Maison I', type: 'video', url: '49gdcnjqHUY' },
                        { id: '4-3', title: 'Maisons II & III', type: 'video', url: 'yhozraa1a1Y' },
                        { id: '4-4', title: 'Maison IV', type: 'video', url: '0zR1mVtsU_g' },
                        { id: '4-5', title: 'Maisons V & VI', type: 'video', url: 'i6o5wpKUZ1E' },
                        { id: '4-6', title: 'Maison VII', type: 'video', url: 'YjeJUO6BygM' },
                        { id: '4-7', title: 'Maisons VIII & IX', type: 'video', url: 'iMiKKxAMPto' },
                        { id: '4-8', title: 'Maison X', type: 'video', url: 'JOyB9bR7O5E' },
                        { id: '4-9', title: 'Maisons XI & XII', type: 'video', url: 'P8mbYbJL5sk' },
                        { 
                            id: '4-10', 
                            title: 'Documents - Maisons', 
                            type: 'pdf',
                            files: [
                                { name: 'Village, quartiers et maisons', url: 'documents/village_quartier_maisons.pdf' }
                            ]
                        }
                    ]
                },
                {
                    id: 5,
                    title: "Les Aspects",
                    description: "Les relations entre les plan√®tes",
                    icon: <Award className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '5-0', 
                            title: 'Introduction : Le Dialogue entre Plan√®tes', 
                            type: 'text',
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Les Aspects : Quand les Plan√®tes se Parlent üîó</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    Les aspects sont les relations entre les plan√®tes dans votre th√®me. C'est comme des conversations 
                                    entre personnages : parfois harmonieuses, parfois tendues, toujours significatives !
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les aspects majeurs :</h3>
                                <ul style="list-style: disc; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Conjonction (0¬∞)</strong> : Fusion des √©nergies</li>
                                    <li><strong>Opposition (180¬∞)</strong> : Tension cr√©ative</li>
                                    <li><strong>Trigone (120¬∞)</strong> : Harmonie naturelle</li>
                                    <li><strong>Carr√© (90¬∞)</strong> : D√©fi stimulant</li>
                                    <li><strong>Sextile (60¬∞)</strong> : Opportunit√©</li>
                                </ul>
                            `
                        },
                        { id: '5-1', title: 'Aspects - 1√®re Partie', type: 'video', url: 'n1lIyXP1CIA' },
                        { id: '5-2', title: 'Aspects - 2√®me Partie', type: 'video', url: '3Og_akDsm2U' },
                        { 
                            id: '5-3', 
                            title: 'Documents - Les Aspects', 
                            type: 'pdf',
                            files: [
                                { name: 'Les aspects plan√©taires', url: 'documents/aspects.pdf' }
                            ]
                        }
                    ]
                },
                {
                    id: 6,
                    title: "Interpr√©tation",
                    description: "Mettez en pratique vos connaissances",
                    icon: <User className="w-6 h-6" />,
                    lessons: [
                        { 
                            id: '6-0', 
                            title: 'Introduction : L\'Art de l\'Interpr√©tation', 
                            type: 'text',
                            content: `
                                <h2 style="color: #1f628e; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">L'Art de l'Interpr√©tation üé®</h2>
                                <p style="margin-bottom: 1rem; line-height: 1.6;">
                                    Vous avez maintenant tous les outils pour interpr√©ter un th√®me astral. 
                                    Comment assembler ces pi√®ces ? C'est ici que l'astrologie devient un art !
                                </p>
                                <h3 style="color: #00a8a8; font-size: 1.2rem; font-weight: bold; margin: 1.5rem 0 1rem;">Les √©tapes cl√©s :</h3>
                                <ul style="list-style: decimal; margin-left: 2rem; line-height: 1.8;">
                                    <li><strong>Vue d'ensemble</strong> : R√©partition des plan√®tes</li>
                                    <li><strong>Soleil, Lune, Ascendant</strong> : Les 3 piliers</li>
                                    <li><strong>Les dominantes</strong> : Ce qui ressort le plus</li>
                                    <li><strong>Les aspects majeurs</strong> : Les conversations importantes</li>
                                    <li><strong>La synth√®se</strong> : Raconter l'histoire unique</li>
                                </ul>
                                <div style="margin-top: 1.5rem; padding: 1.5rem; background-color: #c0f0f7; border-radius: 0.5rem;">
                                    <p style="font-size: 1.1rem;"><strong>üéì Vous √™tes pr√™t !</strong></p>
                                    <p style="margin-top: 0.5rem;">Vous avez toutes les connaissances pour interpr√©ter un th√®me astral !</p>
                                </div>
                            `
                        },
                        { id: '6-1', title: 'Interpr√©tation - 1√®re Partie', type: 'video', url: 'l_7rOpy2pY0' },
                        { id: '6-2', title: 'Interpr√©tation - 2√®me Partie', type: 'video', url: '3Og_akDsm2U' },
                        { id: '6-3', title: '√âtude de cas pratique', type: 'video', url: '-wCXRF27U1w' },
                        { 
                            id: '6-4', 
                            title: 'Documents - Interpr√©tation', 
                            type: 'pdf',
                            files: [
                                { name: 'Guide d\'interpr√©tation', url: 'documents/interpretation.pdf' },
                                { name: 'M√©thode d\'interpr√©tation', url: 'documents/methode_interpretation.pdf' }
                            ]
                        }
                    ]
                }
            ];

            const toggleLesson = (lessonId) => {
                const newCompleted = new Set(completedLessons);
                if (newCompleted.has(lessonId)) {
                    newCompleted.delete(lessonId);
                } else {
                    newCompleted.add(lessonId);
                }
                setCompletedLessons(newCompleted);
            };

            const getModuleProgress = (module) => {
                const completed = module.lessons.filter(lesson => completedLessons.has(lesson.id)).length;
                return Math.round((completed / module.lessons.length) * 100);
            };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center" style={{ backgroundColor: '#c0f0f7' }}>
                        <div className="text-center">
                            <div className="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-3xl animate-pulse">
                                ‚≠ê
                            </div>
                            <p className="text-lg font-semibold" style={{ color: '#1f628e' }}>Chargement...</p>
                        </div>
                    </div>
                );
            }

            if (!user && currentPage === 'login') {
                return <LoginPage onLogin={handleLogin} onSignup={handleSignup} loginError={loginError} />;
            }

            const HomePage = () => (
                <div className="min-h-screen bg-white">
                    <div className="relative overflow-hidden" style={{ background: 'linear-gradient(135deg, #1f628e 0%, #00a8a8 100%)' }}>
                        <div className="max-w-6xl mx-auto px-4 py-20 text-center text-white">
                            <div className="mb-8">
                                <div className="w-32 h-32 mx-auto bg-white rounded-full p-4 shadow-lg">
                                    <div className="w-full h-full bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-4xl">
                                        ‚≠ê
                                    </div>
                                </div>
                            </div>
                            <h1 className="text-5xl font-bold mb-4">Les Fous d'Astro</h1>
                            <p className="text-2xl mb-8">Apprenez l'astrologie de mani√®re ludique</p>
                            <p className="text-lg max-w-2xl mx-auto mb-8">
                                D√©couvrez l'astrologie √† travers des personnages attachants et des histoires captivantes en mode BD
                            </p>
                            {user ? (
                                <button 
                                    onClick={() => setCurrentPage('formation')}
                                    className="px-8 py-4 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
                                    style={{ backgroundColor: '#c0f0f7', color: '#1f628e' }}
                                >
                                    Acc√©der √† la formation
                                </button>
                            ) : (
                                <button 
                                    onClick={() => setCurrentPage('login')}
                                    className="px-8 py-4 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
                                    style={{ backgroundColor: '#c0f0f7', color: '#1f628e' }}
                                >
                                    Se connecter
                                </button>
                            )}
                        </div>
                        
                        <div className="absolute top-10 left-10 text-yellow-300 text-2xl">‚ú®</div>
                        <div className="absolute top-20 right-20 text-yellow-300 text-3xl">‚≠ê</div>
                        <div className="absolute bottom-20 left-20 text-yellow-300 text-2xl">üåü</div>
                        <div className="absolute bottom-10 right-10 text-yellow-300 text-2xl">‚ú®</div>
                    </div>

                    <div className="max-w-6xl mx-auto px-4 py-16">
                        <h2 className="text-3xl font-bold text-center mb-12" style={{ color: '#1f628e' }}>
                            Contenu de la formation
                        </h2>
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {modules.map((module) => (
                                <div 
                                    key={module.id}
                                    className="p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-2"
                                    style={{ borderColor: '#c0f0f7' }}
                                >
                                    <div className="mb-4" style={{ color: '#00a8a8' }}>
                                        {module.icon}
                                    </div>
                                    <h3 className="text-xl font-bold mb-2" style={{ color: '#1f628e' }}>
                                        {module.title}
                                    </h3>
                                    <p className="text-gray-600 mb-4">{module.description}</p>
                                    <div className="text-sm text-gray-500">
                                        {module.lessons.length} le√ßon{module.lessons.length > 1 ? 's' : ''}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="py-16 text-center" style={{ backgroundColor: '#c0f0f7' }}>
                        <h2 className="text-3xl font-bold mb-4" style={{ color: '#1f628e' }}>
                            Pr√™t √† commencer ?
                        </h2>
                        <p className="text-lg mb-8 text-gray-700">
                            Rejoignez l'aventure astrologique d√®s maintenant
                        </p>
                        {user ? (
                            <button 
                                onClick={() => setCurrentPage('formation')}
                                className="px-8 py-4 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all text-white"
                                style={{ backgroundColor: '#1f628e' }}
                            >
                                Commencer la formation
                            </button>
                        ) : (
                            <button 
                                onClick={() => setCurrentPage('login')}
                                className="px-8 py-4 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all text-white"
                                style={{ backgroundColor: '#1f628e' }}
                            >
                                Se connecter
                            </button>
                        )}
                    </div>
                </div>
            );

            const FormationPage = () => (
                <div className="max-w-6xl mx-auto px-4 py-8">
                    <h1 className="text-4xl font-bold mb-8" style={{ color: '#1f628e' }}>
                        Votre parcours de formation
                    </h1>
                    
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {modules.map((module) => {
                            const progress = getModuleProgress(module);
                            return (
                                <div 
                                    key={module.id}
                                    onClick={() => setCurrentModule(module)}
                                    className="p-6 rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer border-2"
                                    style={{ borderColor: progress === 100 ? '#00a8a8' : '#c0f0f7' }}
                                >
                                    <div className="flex items-start justify-between mb-4">
                                        <div style={{ color: '#00a8a8' }}>
                                            {module.icon}
                                        </div>
                                        {progress === 100 && (
                                            <CheckCircle className="w-6 h-6" style={{ color: '#00a8a8' }} />
                                        )}
                                    </div>
                                    
                                    <h3 className="text-xl font-bold mb-2" style={{ color: '#1f628e' }}>
                                        Module {module.id}: {module.title}
                                    </h3>
                                    
                                    <p className="text-sm text-gray-600 mb-4">{module.description}</p>
                                    
                                    <div className="mb-2">
                                        <div className="flex justify-between text-sm text-gray-600 mb-1">
                                            <span>{module.lessons.length} le√ßons</span>
                                            <span>{progress}%</span>
                                        </div>
                                        <div className="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
                                            <div 
                                                className="h-full transition-all duration-300 rounded-full"
                                                style={{ 
                                                    width: `${progress}%`,
                                                    backgroundColor: '#00a8a8'
                                                }}
                                            />
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            const ModuleDetail = ({ module }) => (
                <div className="max-w-4xl mx-auto px-4 py-8">
                    <button 
                        onClick={() => setCurrentModule(null)}
                        className="mb-6 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-700"
                    >
                        ‚Üê Retour aux modules
                    </button>

                    <div className="mb-8">
                        <div className="flex items-center gap-4 mb-4">
                            <div style={{ color: '#00a8a8' }}>
                                {module.icon}
                            </div>
                            <div>
                                <h1 className="text-3xl font-bold" style={{ color: '#1f628e' }}>
                                    Module {module.id}: {module.title}
                                </h1>
                                <p className="text-gray-600 mt-2">{module.description}</p>
                            </div>
                        </div>

                        <div className="flex items-center gap-4 mt-4">
                            <div className="flex-1">
                                <div className="w-full h-3 bg-gray-200 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full transition-all duration-300"
                                        style={{ 
                                            width: `${getModuleProgress(module)}%`,
                                            backgroundColor: '#00a8a8'
                                        }}
                                    />
                                </div>
                            </div>
                            <span className="text-sm font-semibold" style={{ color: '#00a8a8' }}>
                                {getModuleProgress(module)}%
                            </span>
                        </div>
                    </div>

                    <div className="space-y-4">
                        {module.lessons.map((lesson) => {
                            const isCompleted = completedLessons.has(lesson.id);
                            return (
                                <div 
                                    key={lesson.id}
                                    className="p-6 rounded-lg shadow-md border-2 transition-all"
                                    style={{ 
                                        borderColor: isCompleted ? '#00a8a8' : '#c0f0f7',
                                        backgroundColor: isCompleted ? '#f0fffe' : 'white'
                                    }}
                                >
                                    <div className="flex items-start gap-4">
                                        <button
                                            onClick={() => toggleLesson(lesson.id)}
                                            className="mt-1 flex-shrink-0"
                                        >
                                            {isCompleted ? (
                                                <CheckCircle className="w-6 h-6" style={{ color: '#00a8a8' }} />
                                            ) : (
                                                <Circle className="w-6 h-6 text-gray-300" />
                                            )}
                                        </button>

                                        <div className="flex-1">
                                            <div className="flex items-center gap-3 mb-3">
                                                {lesson.type === 'video' ? (
                                                    <Video className="w-5 h-5" style={{ color: '#1f628e' }} />
                                                ) : lesson.type === 'text' ? (
                                                    <DocumentText className="w-5 h-5" style={{ color: '#1f628e' }} />
                                                ) : (
                                                    <FileText className="w-5 h-5" style={{ color: '#1f628e' }} />
                                                )}
                                                <h3 className="text-lg font-semibold" style={{ color: '#1f628e' }}>
                                                    {lesson.title}
                                                </h3>
                                            </div>

                                            {lesson.type === 'video' ? (
                                                lesson.url ? (
                                                    <div className="rounded-lg overflow-hidden" style={{ position: 'relative', paddingBottom: '56.25%', height: 0 }}>
                                                        <iframe
                                                            src={`https://www.youtube.com/embed/${lesson.url}`}
                                                            style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }}
                                                            frameBorder="0"
                                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                                            allowFullScreen
                                                        />
                                                    </div>
                                                ) : (
                                                    <div className="bg-gray-100 rounded-lg p-8 text-center">
                                                        <Video className="w-12 h-12 mx-auto mb-4 text-gray-400" />
                                                        <p className="text-gray-600">Vid√©o √† ajouter</p>
                                                    </div>
                                                )
                                            ) : lesson.type === 'text' ? (
                                                <div className="bg-white rounded-lg p-6 border-2" style={{ borderColor: '#c0f0f7' }}>
                                                    <div className="prose max-w-none">
                                                        <div dangerouslySetInnerHTML={{ __html: lesson.content }} />
                                                    </div>
                                                </div>
                                            ) : (
                                                lesson.files && lesson.files.length > 0 ? (
                                                    <div className="bg-gray-50 rounded-lg p-6 border-2" style={{ borderColor: '#c0f0f7' }}>
                                                        <div className="space-y-3">
                                                            {lesson.files.map((file, index) => (
                                                                <div key={index} className="flex items-center justify-between p-3 bg-white rounded-lg border" style={{ borderColor: '#c0f0f7' }}>
                                                                    <div className="flex items-center gap-3 flex-1">
                                                                        <FileText className="w-5 h-5" style={{ color: '#00a8a8' }} />
                                                                        <span className="font-medium text-gray-700">{file.name}</span>
                                                                    </div>
                                                                    <a
                                                                        href={file.url}
                                                                        target="_blank"
                                                                        rel="noopener noreferrer"
                                                                        className="flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold hover:opacity-90 transition-opacity"
                                                                        style={{ backgroundColor: '#00a8a8' }}
                                                                    >
                                                                        <Download className="w-4 h-4" />
                                                                        T√©l√©charger
                                                                    </a>
                                                                </div>
                                                            ))}
                                                        </div>
                                                        
                                                        {lesson.files.length > 1 && (
                                                            <button
                                                                onClick={() => downloadAllFiles(lesson.files, lesson.title)}
                                                                className="mt-4 w-full py-3 px-4 rounded-lg text-white font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2"
                                                                style={{ backgroundColor: '#1f628e' }}
                                                            >
                                                                <Download className="w-5 h-5" />
                                                                Tout t√©l√©charger ({lesson.files.length} fichiers)
                                                            </button>
                                                        )}
                                                    </div>
                                                ) : (
                                                    <div className="bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300">
                                                        <FileText className="w-8 h-8 mx-auto mb-3 text-gray-400" />
                                                        <p className="text-center text-gray-600">Documents √† ajouter</p>
                                                    </div>
                                                )
                                            )}
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-50">
                    <header className="shadow-md" style={{ backgroundColor: '#1f628e' }}>
                        <div className="max-w-6xl mx-auto px-4 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <div className="w-12 h-12 bg-white rounded-full flex items-center justify-center text-2xl">
                                        ‚≠ê
                                    </div>
                                    <span className="text-white text-xl font-bold">Les Fous d'Astro</span>
                                </div>

                                <nav className="hidden md:flex items-center gap-6">
                                    <button 
                                        onClick={() => { setCurrentPage('home'); setCurrentModule(null); }}
                                        className="text-white hover:text-opacity-80 transition-colors"
                                    >
                                        Accueil
                                    </button>
                                    {user && (
                                        <button 
                                            onClick={() => { setCurrentPage('formation'); setCurrentModule(null); }}
                                            className="text-white hover:text-opacity-80 transition-colors"
                                        >
                                            Formation
                                        </button>
                                    )}
                                    {user ? (
                                        <button 
                                            onClick={handleLogout}
                                            className="flex items-center gap-2 text-white hover:text-opacity-80 transition-colors"
                                        >
                                            <LogOut className="w-5 h-5" />
                                            D√©connexion
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={() => setCurrentPage('login')}
                                            className="text-white hover:text-opacity-80 transition-colors"
                                        >
                                            Connexion
                                        </button>
                                    )}
                                </nav>

                                <button 
                                    className="md:hidden text-white"
                                    onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                                >
                                    {mobileMenuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
                                </button>
                            </div>

                            {mobileMenuOpen && (
                                <nav className="md:hidden mt-4 pb-4 flex flex-col gap-3">
                                    <button 
                                        onClick={() => { setCurrentPage('home'); setCurrentModule(null); setMobileMenuOpen(false); }}
                                        className="text-white text-left hover:text-opacity-80 transition-colors"
                                    >
                                        Accueil
                                    </button>
                                    {user && (
                                        <button 
                                            onClick={() => { setCurrentPage('formation'); setCurrentModule(null); setMobileMenuOpen(false); }}
                                            className="text-white text-left hover:text-opacity-80 transition-colors"
                                        >
                                            Formation
                                        </button>
                                    )}
                                    {user ? (
                                        <button 
                                            onClick={() => { handleLogout(); setMobileMenuOpen(false); }}
                                            className="text-white text-left hover:text-opacity-80 transition-colors"
                                        >
                                            D√©connexion
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={() => { setCurrentPage('login'); setMobileMenuOpen(false); }}
                                            className="text-white text-left hover:text-opacity-80 transition-colors"
                                        >
                                            Connexion
                                        </button>
                                    )}
                                </nav>
                            )}
                        </div>
                    </header>

                    <main>
                        {!user ? (
                            <HomePage />
                        ) : currentModule ? (
                            <ModuleDetail module={currentModule} />
                        ) : currentPage === 'home' ? (
                            <HomePage />
                        ) : (
                            <FormationPage />
                        )}
                    </main>

                    <footer className="mt-16 py-8 text-center" style={{ backgroundColor: '#c0f0f7' }}>
                        <p style={{ color: '#1f628e' }}>
                            ¬© 2024 Les Fous d'Astro - Tous droits r√©serv√©s
                        </p>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>